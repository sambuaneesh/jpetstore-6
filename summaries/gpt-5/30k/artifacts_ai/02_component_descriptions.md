| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| AccountActionBean | Session-scoped controller for sign-on/off and account CRUD; populates favorites | /actions/Account.action: signonForm (default), signon, signoff, newAccountForm, newAccount, editAccountForm, editAccount | AccountService; CatalogService; AbstractActionBean; JSP Views; HttpSession | Stripes MVC (ActionBean, @SessionScope); JSP/JSTL; Spring DI |
| CatalogActionBean | Session-scoped controller for browsing catalog and searching | /actions/Catalog.action: viewMain (default), viewCategory, viewProduct, viewItem, searchProducts | CatalogService; AbstractActionBean; JSP Views | Stripes MVC; JSP/JSTL; Spring DI |
| CartActionBean | Session-scoped controller managing in-session Cart lifecycle | /actions/Cart.action: viewCart, addItemToCart, removeItemFromCart, updateCartQuantities, checkOut | CatalogService; Domain Model (Cart, Item); AbstractActionBean; JSP Views; HttpSession | Stripes MVC; JSP/JSTL; Spring DI |
| OrderActionBean | Session-scoped controller for order creation and viewing history | /actions/Order.action: listOrders, newOrderForm, newOrder, viewOrder | OrderService; AccountActionBean; CartActionBean; AbstractActionBean; JSP Views; HttpSession | Stripes MVC; JSP/JSTL; Spring DI |
| AbstractActionBean | Base ActionBean with common context/message helpers | setMessage(SimpleMessage), getContext() | Stripes framework; Used by all ActionBeans | Stripes MVC base utilities |
| AccountService | Account retrieval, authentication, and profile management (transactional) | getAccount(username); getAccount(username,password); insertAccount(account); updateAccount(account) | AccountMapper; Spring Tx; Domain Model | Spring @Service; @Transactional; MyBatis-Spring |
| CatalogService | Catalog browsing, product search, item retrieval, stock checks | getCategoryList(); getCategory(id); getProduct(id); getProductListByCategory(id); searchProductList(keywords); getItemListByProduct(id); getItem(id); isItemInStock(itemId) | CategoryMapper; ProductMapper; ItemMapper; Domain Model | Spring @Service; MyBatis-Spring |
| OrderService | Order creation, enrichment, and queries; inventory decrement and ID allocation (transactional) | insertOrder(order); getOrder(orderId); getOrdersByUsername(username); getNextId(name) | SequenceMapper; ItemMapper; OrderMapper; LineItemMapper; Spring Tx; Domain Model | Spring @Service; @Transactional; MyBatis-Spring; Saga candidate in microservices |
| AccountMapper | Persistence for accounts, profiles, and sign-on | getAccountByUsername(u); getAccountByUsernameAndPassword(u,p); insertAccount; insertProfile; insertSignon; updateAccount; updateProfile; updateSignon | HSQLDB schema (SIGNON, ACCOUNT, PROFILE, BANNERDATA) | MyBatis mapper + XML; <cache/> |
| CategoryMapper | Category reads | getCategoryList(); getCategory(id) | HSQLDB CATEGORY | MyBatis mapper + XML; <cache/> |
| ProductMapper | Product reads and simple search | getProductListByCategory(catId); getProduct(id); searchProductList(keywords) | HSQLDB PRODUCT | MyBatis mapper + XML; <cache/>; SQL LIKE search |
| ItemMapper | Item reads and inventory ops | getItemListByProduct(prodId); getItem(itemId); getInventoryQuantity(itemId); updateInventoryQuantity({itemId, increment}) | HSQLDB ITEM, INVENTORY, PRODUCT | MyBatis mapper + XML; <cache/>; inventory decrement without lower bound |
| OrderMapper | Order headers and status history | getOrdersByUsername(u); getOrder(orderId); insertOrder(order); insertOrderStatus(order) | HSQLDB ORDERS, ORDERSTATUS | MyBatis mapper + XML; <cache/> |
| LineItemMapper | Line item persistence and reads | getLineItemsByOrderId(orderId); insertLineItem(lineItem) | HSQLDB LINEITEM | MyBatis mapper + XML; <cache/> |
| SequenceMapper | Table-based ID allocation | getSequence(Sequence); updateSequence(Sequence) | HSQLDB SEQUENCE | MyBatis mapper + XML; table-sequence pattern |
| Domain Model (POJOs) | Data carriers for Account, Category, Product, Item, Cart, CartItem, Order, LineItem, Sequence | Getters/setters; Cart ops: addItem/remove/setQuantity/getSubTotal; Order.initOrder(account, cart) | Used by ActionBeans, Services, Mappers | Plain Java POJOs; BigDecimal math; anemic model |
| JSP Views | Server-side rendered pages for account, catalog, cart, orders, common includes | /WEB-INF/jsp/...: SignonForm.jsp, NewAccountForm.jsp, EditAccountForm.jsp, Main.jsp, Category.jsp, Product.jsp, Item.jsp, SearchProducts.jsp, Cart.jsp, Checkout.jsp, NewOrderForm.jsp, ShippingForm.jsp, ConfirmOrder.jsp, ListOrders.jsp, ViewOrder.jsp, Error.jsp | ActionBeans; JSTL fmt | JSP 2.3; JSTL; Stripes tags (stripes:link, stripes:submit) |
| Web/Servlet Config | Web entry points and MVC wiring | web.xml: StripesFilter, Dispatcher *.action; ContextLoaderListener; JSTL fmt localization | Spring Application Context; Stripes MVC; JSPs | Servlet 4.0; Stripes; JSTL |
| Spring Application Context | DI, transaction management, and MyBatis/Spring integration | applicationContext.xml: component-scan(service); tx:annotation-driven; mybatis:scan(mapper); SqlSessionFactoryBean | DataSource & Tx Mgmt; MyBatis Configuration; Services | Spring Framework; DataSourceTransactionManager |
| MyBatis Configuration | SQL mapping, type aliases, and second-level caches | SqlSessionFactoryBean(typeAliasesPackage=domain); Mapper XMLs with <cache/> | Domain Model; Mappers; HSQLDB | MyBatis; MyBatis-Spring; per-mapper 2nd-level cache (in-memory, non-distributed) |
| DataSource & Transaction Mgmt | DB connectivity and ACID boundaries | Embedded HSQLDB DataSource; DataSourceTransactionManager | Database (HSQLDB); Spring App Context | HSQLDB embedded; Spring Tx |
| Database (HSQLDB Schema & Seed) | Persist all app data; initialized on startup | SQL scripts: jpetstore-hsqldb-schema.sql; jpetstore-hsqldb-dataload.sql | Used by all Mappers | HSQLDB; relational schema; table-based sequence |
| Logging | Basic app logging to stdout | SLF4J Simple binding | All components | SLF4J (simple); stdout |
| Packaging/Runtime | Build, container orchestration, and runtime profile | Maven WAR (finalName=jpetstore); cargo:run -P tomcat90; Dockerfile (openjdk:21); docker-compose (expose 8080) | Web/Servlet Config; App Server (Tomcat) | Maven; Cargo; Tomcat 9; Docker; Java 17 target/JDK 21 runtime |
| Tests & CI/CD | Automated verification and pipelines | Selenide UI tests (flows); JUnit unit/integration tests; GitHub Actions (CI matrix, CodeQL, Sonar, coverage, container profiles) | Full stack; Embedded HSQLDB test context | Selenide; JUnit; Spring Test; GitHub Actions; Jacoco; SonarCloud |