| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
| --- | --- | --- | --- | --- |
| Stripes Front Controller | Route *.action requests to ActionBeans; integrate Spring into Stripes | web.xml: StripesFilter (ActionResolver.Packages=org.mybatis.jpetstore.web, Extension.Packages=net.sourceforge.stripes.integration.spring), DispatcherServlet mapped to *.action | ActionBeans, Spring ApplicationContext | Stripes MVC (Filter + Dispatcher), Spring integration interceptor |
| AccountActionBean | Account sign-on/off and profile CRUD; maintain session auth and favorites | /actions/Account.action: signonForm (default), signon, signoff, newAccountForm, newAccount, editAccountForm, editAccount | AccountService, CatalogService, HttpSession, JSPs | Stripes @SessionScope, @SpringBean, JSP/JSTL, validation via @Validate |
| CatalogActionBean | Browse categories/products/items; keyword search | /actions/Catalog.action: viewMain (default), viewCategory, viewProduct, viewItem, searchProducts | CatalogService, JSPs | Stripes @SessionScope, JSP/JSTL, Stripes tags |
| CartActionBean | Session cart management (add/remove/update, checkout step) | /actions/Cart.action: addItemToCart, removeItemFromCart, updateCartQuantities, viewCart, checkOut | CatalogService, Cart (domain), JSPs | Stripes @SessionScope, JSP/JSTL |
| OrderActionBean | Order placement flow, listing and viewing orders | /actions/Order.action: listOrders, newOrderForm, newOrder (shippingAddressRequired, confirmed), viewOrder | OrderService; reads AccountActionBean and CartActionBean from session; JSPs | Stripes @SessionScope, JSP/JSTL |
| JSP Views | Server-side rendering for pages and flows | /WEB-INF/jsp/...: account (Signon/New/Edit), catalog (Main/Category/Product/Item/SearchProducts), cart (Cart/Checkout), order (New/Shipping/Confirm/List/View), common (Error, layout includes) | ActionBeans (model), JSTL/Stripes tags | JSP 2.3, JSTL, Stripes taglibs |
| AccountService | Orchestrate account lifecycle across ACCOUNT/PROFILE/SIGNON; auth | getAccount(username), getAccount(username,password), insertAccount(Account), updateAccount(Account) | AccountMapper | Spring @Service, @Transactional; MyBatis; JDBC Tx |
| CatalogService | Read-only catalog ops and stock checks; search | getCategoryList(), getCategory(id), getProduct(id), getProductListByCategory(catId), searchProductList(keywords), getItemListByProduct(prodId), getItem(itemId), isItemInStock(itemId) | CategoryMapper, ProductMapper, ItemMapper | Spring @Service; MyBatis; MyBatis 2nd-level cache (per mapper) |
| OrderService | Create/retrieve orders; manage order IDs; adjust inventory | insertOrder(Order), getOrder(orderId), getOrdersByUsername(username), getNextId(name) | OrderMapper, LineItemMapper, ItemMapper, SequenceMapper | Spring @Service, @Transactional; MyBatis; table-based Sequence; transaction script |
| AccountMapper | CRUD for account/profile/signon; auth queries | getAccountByUsername, getAccountByUsernameAndPassword, insertAccount, insertProfile, insertSignon, updateAccount, updateProfile, updateSignon | HSQLDB tables: ACCOUNT, PROFILE, SIGNON, BANNERDATA | MyBatis XML mapper, <cache/>, SQL joins |
| CategoryMapper | Read category list and detail | getCategoryList, getCategory | CATEGORY | MyBatis XML mapper, <cache/> |
| ProductMapper | Product lookup by category/id; keyword search | getProductListByCategory, getProduct, searchProductList("%keyword%") | PRODUCT, CATEGORY | MyBatis XML mapper, <cache/>, indexed queries |
| ItemMapper | Item lookup and inventory read/update | getItemListByProduct, getItem, getInventoryQuantity, updateInventoryQuantity({itemId, increment}) | ITEM, INVENTORY, PRODUCT | MyBatis XML mapper, <cache/>; inventory decrement (QTY = QTY - increment) |
| OrderMapper | Order header/status persistence and queries | insertOrder, insertOrderStatus, getOrdersByUsername, getOrder | ORDERS, ORDERSTATUS | MyBatis XML mapper, <cache/> |
| LineItemMapper | Line item persistence and retrieval | insertLineItem, getLineItemsByOrderId | LINEITEM | MyBatis XML mapper, <cache/> |
| SequenceMapper | Named sequence read/update for IDs | getSequence(Sequence), updateSequence(Sequence) | SEQUENCE | MyBatis XML mapper; table-based ID generation |
| Domain Model (POJOs) | Entities and in-memory logic for cart/order/account/catalog | Cart: addItem, removeItemById, incrementQuantityByItemId, setQuantityByItemId, getSubTotal; Order: initOrder(Account, Cart); LineItem totals; getters/setters with some @Validate | Used by Services, ActionBeans, Mappers | Plain Java, BigDecimal math; Stripes @Validate on some setters |
| Spring ApplicationContext & Tx Manager | Wire DI, transactions, DataSource, and mapper scanning | WEB-INF/applicationContext.xml: dataSource, DataSourceTransactionManager, tx:annotation-driven, component-scan(org.mybatis.jpetstore.service) | DataSource/HSQLDB, Services, MyBatis-Spring | Spring Context, Spring JDBC, @Transactional |
| MyBatis-Spring Integration | Configure SqlSessionFactory and mapper scanning | SqlSessionFactoryBean(typeAliasesPackage=org.mybatis.jpetstore.domain); mybatis:scan base-package=org.mybatis.jpetstore.mapper | DataSource, Mapper interfaces | MyBatis, mybatis-spring |
| DataSource/HSQLDB Schema | Embedded DB with schema and seed data | Scripts: database/jpetstore-hsqldb-schema.sql, jpetstore-hsqldb-dataload.sql | N/A (provides persistence for mappers/services) | HSQLDB (embedded), Spring JDBC initializer |