| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Stripes Front Controller (Filter + DispatcherServlet) | Route *.action requests to ActionBeans; binding/validation; Spring integration | URL pattern: *.action; ActionResolver.Packages=org.mybatis.jpetstore.web | ActionBeans; Spring ApplicationContext; JSP views | Stripes 1.6; Servlet 4.0; Front Controller pattern |
| AbstractActionBean | Base ActionBean utilities: context access, messages, common error view | getContext(), helper methods; error view: /WEB-INF/jsp/common/Error.jsp | Stripes Front Controller; JSPs | Stripes MVC; JSP/JSTL |
| AccountActionBean (@SessionScope) | Account auth/CRUD UI, session account state, favorite list | signonForm, signon(username,password), newAccountForm, newAccount, editAccountForm, editAccount, signoff | AccountService; CatalogService; sessionScope.accountBean | Stripes MVC; JSP/JSTL; Spring-Stripes integration; Session-scoped controller |
| CatalogActionBean (@SessionScope) | Catalog browsing and search UI | viewMain, viewCategory(categoryId), viewProduct(productId), viewItem(itemId), searchProducts(keyword) | CatalogService | Stripes MVC; JSP/JSTL |
| CartActionBean (@SessionScope) | Manage session cart; add/remove/update items; checkout view | viewCart, addItemToCart(workingItemId), removeItemFromCart(workingItemId), updateCartQuantities, checkOut, clear | CatalogService; Cart (domain) | Stripes MVC; JSP/JSTL; Session-scoped state |
| OrderActionBean (@SessionScope) | Order placement workflow, order listing/view | listOrders, newOrderForm, newOrder(confirmed, shippingAddressRequired), viewOrder(orderId) | OrderService; AccountActionBean; CartActionBean | Stripes MVC; JSP/JSTL; Spring-Stripes integration |
| AccountService | Account retrieval/authentication; account/profile/signon CRUD | getAccount(username), getAccount(username,password), insertAccount(Account), updateAccount(Account) | AccountMapper | Spring @Service; @Transactional (write ops); MyBatis-Spring |
| CatalogService | Catalog reads and search; stock check | getCategoryList, getCategory(id), getProduct(id), getProductListByCategory, getItemListByProduct, getItem(id), searchProductList(keywords), isItemInStock(itemId) | CategoryMapper; ProductMapper; ItemMapper | Spring @Service; MyBatis-Spring; tokenized LIKE search; MyBatis 2nd-level cache (per mapper) |
| OrderService | Order queries and creation; sequence allocation; inventory decrement; order enrichment | getOrdersByUsername(username), getOrder(orderId), getNextId(name), insertOrder(Order) | OrderMapper; LineItemMapper; ItemMapper; SequenceMapper | Spring @Service; @Transactional; MyBatis-Spring; select-then-update sequence pattern |
| AccountMapper | SQL access for ACCOUNT/PROFILE/SIGNON (+ banner join) | getAccountByUsername, getAccountByUsernameAndPassword, insertAccount, updateAccount, insertProfile, updateProfile, insertSignon, updateSignon | HSQLDB tables: ACCOUNT, PROFILE, SIGNON, BANNERDATA | MyBatis 3.5 XML mapper; mybatis-spring; boolean-to-int bindings; <cache/> |
| CategoryMapper | SQL access for categories | getCategoryList(), getCategory(categoryId) | CATEGORY | MyBatis 3.5 XML mapper; <cache/> |
| ProductMapper | SQL access for products; search | getProductListByCategory(categoryId), getProduct(productId), searchProductList(likePattern) | PRODUCT; CATEGORY | MyBatis 3.5 XML mapper; lower(name) LIKE search; <cache/> |
| ItemMapper | SQL access for items and inventory | getItemListByProduct(productId), getItem(itemId), getInventoryQuantity(itemId), updateInventoryQuantity({itemId, increment}) | ITEM; PRODUCT; INVENTORY; SUPPLIER | MyBatis 3.5 XML mapper; joins for nested mapping; inventory decrement; <cache/> |
| OrderMapper | SQL access for orders and order status header | getOrdersByUsername(username), getOrder(orderId), insertOrder(Order), insertOrderStatus(Order) | ORDERS; ORDERSTATUS | MyBatis 3.5 XML mapper; <cache/> |
| LineItemMapper | SQL access for order line items | getLineItemsByOrderId(orderId), insertLineItem(LineItem) | LINEITEM; ITEM (FK reference) | MyBatis 3.5 XML mapper; <cache/> |
| SequenceMapper | SQL access for application sequences | getSequence(Sequence), updateSequence(Sequence) | SEQUENCE | MyBatis 3.5 XML mapper; select-then-update (non-atomic) |
| Domain Model (POJOs) | Core entities and business logic (Cart math; Order init) | Cart.addItem/removeItem/setQuantity/getSubTotal; Order.initOrder(Account, Cart); getters/setters for Account/Category/Product/Item/Order/LineItem/Sequence | Used by Services, ActionBeans, Mappers | Plain Java POJOs; BigDecimal for money; type aliases in MyBatis |
| JSP Views | Render UI pages for catalog, cart, order, common includes | /WEB-INF/jsp/common/*.jsp; catalog/Main.jsp, Category.jsp, Product.jsp, Item.jsp, SearchProducts.jsp; cart/Cart.jsp, Checkout.jsp; order/*.jsp | ActionBeans (model); Stripes taglibs | JSP; JSTL fmt; Stripes tags; server-side MVC views |
| DataSource & DB Initialization | Provide JDBC DataSource; initialize schema and seed data | Executes database/jpetstore-hsqldb-schema.sql and -dataload.sql at startup | HSQLDB engine; Spring context | Spring JDBC; Embedded HSQLDB (in-memory by default) |
| SqlSessionFactory & Mapper Scanning | MyBatis session factory and mapper registration | typeAliasesPackage=org.mybatis.jpetstore.domain; @MapperScan base=org.mybatis.jpetstore.mapper | DataSource; MyBatis mappers | mybatis-spring 3.0; MyBatis 3.5; per-mapper 2nd-level cache |
| Transaction Manager | Declarative transaction boundaries for services | @Transactional on service methods; DataSourceTransactionManager | Services; DataSource | Spring 6.2 transaction management; JDBC local transactions |
| Session State Management | Maintain user, cart, and workflow state in server session | @SessionScope ActionBeans; sessionScope.accountBean; cart in CartActionBean | Servlet container; ActionBeans | Servlet HTTP session; stateful MVC pattern |
| Build & Deployment | Package and run app; containerized dev run | Maven package (WAR); cargo:run -P tomcat90; Docker image (OpenJDK 21, port 8080) | App servers (Tomcat et al.); Maven | Maven; Cargo plugin; Docker; WAR packaging |