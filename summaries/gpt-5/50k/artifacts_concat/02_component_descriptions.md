| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
| --- | --- | --- | --- | --- |
| Stripes Front Controller (Filter + DispatcherServlet) | Routes *.action to ActionBeans; integrates Spring DI | URL mapping: *.action; ActionResolver.Packages=org.mybatis.jpetstore.web | ActionBeans; Spring Context | Stripes MVC; Servlet 4.0; Front Controller pattern |
| AccountActionBean (@SessionScope) | Authentication/session management; registration; profile edit; signoff; load MyList | /actions/Account.action: signonForm (GET), signon (POST), newAccountForm, newAccount (POST), editAccountForm, editAccount (POST), signoff | AccountService; CatalogService; session attribute "accountBean" | Stripes ActionBean; JSP (account/*); JSTL; MVC |
| CatalogActionBean (@SessionScope) | Catalog navigation and search | /actions/Catalog.action: viewMain, viewCategory(categoryId), viewProduct(productId), viewItem(itemId), searchProducts(keyword) | CatalogService | Stripes ActionBean; JSP (catalog/*); JSTL |
| CartActionBean (@SessionScope) | Manage shopping cart; quantities; checkout view | /actions/Cart.action: addItemToCart(workingItemId), removeItemFromCart(workingItemId), updateCartQuantities({itemId:qty}), viewCart, checkOut | CatalogService; Domain Cart | Stripes ActionBean; session state; JSP (cart/*) |
| OrderActionBean (@SessionScope) | Order flow (new order wizard), list/view orders, authz checks | /actions/Order.action: listOrders, newOrderForm, newOrder(shippingAddressRequired?, confirmed?), viewOrder(order.orderId) | OrderService; reads AccountActionBean and CartActionBean from session | Stripes ActionBean; JSP (order/*) |
| JSP Views | Render UI for account, catalog, cart, order; shared includes | /WEB-INF/jsp/account/*; /catalog/*; /cart/*; /order/*; /common/* | ActionBeans (model attributes) | JSP; JSTL (c, fmt); Stripes tags |
| AccountService | Account/profile CRUD and authentication lookups | getAccount(username); getAccount(username,password); insertAccount(Account); updateAccount(Account) | AccountMapper | Spring @Service; @Transactional; Transaction Script |
| CatalogService | Catalog read operations and stock checks | getCategoryList(); getCategory(id); getProduct(id); getProductListByCategory(catId); getItemListByProduct(prodId); getItem(id); searchProductList(keywords); isItemInStock(itemId) | CategoryMapper; ProductMapper; ItemMapper | Spring @Service |
| OrderService | Order creation/retrieval; list orders; ID sequencing; inventory decrement | insertOrder(Order) [@Transactional]; getOrder(orderId) [@Transactional]; getOrdersByUsername(username); getNextId(name) | OrderMapper; LineItemMapper; ItemMapper; SequenceMapper | Spring @Service; @Transactional; Sequence table pattern |
| AccountMapper | SQL for account/profile/signon | getAccountByUsername; getAccountByUsernameAndPassword; insertAccount; insertProfile; insertSignon; updateAccount; updateProfile; updateSignon | DB tables: ACCOUNT, PROFILE, SIGNON, BANNERDATA | MyBatis 3 + XML; second-level cache |
| CategoryMapper | Read categories | getCategoryList; getCategory(categoryId) | CATEGORY | MyBatis 3 + XML; second-level cache |
| ProductMapper | Read/search products | getProduct(productId); getProductListByCategory(categoryId); searchProductList("%keyword%") | PRODUCT; CATEGORY | MyBatis 3 + XML; second-level cache |
| ItemMapper | Read items; inventory read/update | getItemListByProduct(productId); getItem(itemId); getInventoryQuantity(itemId); updateInventoryQuantity({itemId, increment}) | ITEM; INVENTORY; PRODUCT | MyBatis 3 + XML; second-level cache |
| OrderMapper | Persist/retrieve orders and status | getOrder(orderId); getOrdersByUsername(username); insertOrder(Order); insertOrderStatus(Order) | ORDERS; ORDERSTATUS | MyBatis 3 + XML; second-level cache |
| LineItemMapper | Persist/retrieve line items | getLineItemsByOrderId(orderId); insertLineItem(LineItem) | LINEITEM | MyBatis 3 + XML; second-level cache |
| SequenceMapper | ID generation via sequence table | getSequence(Sequence{name}); updateSequence(Sequence{name,nextId}) | SEQUENCE | MyBatis 3 + XML |
| Domain Model | Business entities and core logic (cart math, order init) | Classes: Account, Category, Product, Item, Cart, CartItem, Order, LineItem, Sequence; Cart: add/remove/increment/setQuantity/getSubTotal; Order.initOrder(Account,Cart) | Used by services, mappers, ActionBeans | Plain Java; BigDecimal arithmetic; POJOs |
| Spring Application Context | Wire beans; enable transactions; configure MyBatis and DataSource | Beans: DataSource; DataSourceTransactionManager; SqlSessionFactoryBean; @ComponentScan(service pkg); @MapperScan(mapper pkg) | HSQLDB; services; mappers | Spring Context 6.x; mybatis-spring 3.x; XML config |
| MyBatis Integration | Provide SqlSessionFactory and mapper proxies; caching | SqlSessionFactoryBean; Mapper scanning; mapper XML with <cache/>; typeAliasesPackage=domain | DataSource; domain models | MyBatis 3; mybatis-spring; DAO pattern |
| DataSource & Database | Persist application data; initialize schema and seed data | Init scripts: database/jpetstore-hsqldb-schema.sql; ...-dataload.sql; Tables: SIGNON, ACCOUNT, PROFILE, CATEGORY, PRODUCT, ITEM, INVENTORY, ORDERS, ORDERSTATUS, LINEITEM, SEQUENCE, etc. | None | HSQLDB (in-memory) |
| Transaction Management | Demarcate transactional boundaries for services | @Transactional on service methods; DataSourceTransactionManager | Spring Context; DataSource | Spring TX; local ACID transactions |
| Caching (MyBatis) | Reduce DB hits for read mappers | <cache/> per mapper XML | Mappers; MyBatis | MyBatis 2nd-level cache |
| Build & Deployment | Package and run app in servlet containers | WAR packaging; Maven Cargo profiles (Tomcat9 default); Dockerfile (cargo:run -P tomcat90) | Servlet container (Tomcat/others) | Maven; Cargo; Docker |