| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| WebApp (WAR on Servlet Container) | Hosts the application and serves HTTP under /jpetstore | HTTP context /jpetstore on port 8080 | Stripes MVC, Spring ApplicationContext | Servlet API 4.0, Tomcat 9 (cargo), Maven WAR, Docker |
| Stripes MVC (Filter + DispatcherServlet) | Front controller and action-based routing; integrates Spring DI; session-scoped ActionBeans | *.action; ActionResolver.Packages=org.mybatis.jpetstore.web; SpringInterceptor/Extension.Packages | ActionBeans, Spring ApplicationContext | Stripes 1.6.0, Servlet Filter/Dispatcher Servlet, Stripes-Spring integration |
| JSP Views | Render UI for catalog, account, cart, order, error layouts | /WEB-INF/jsp/catalog/*.jsp, /account/*.jsp, /cart/*.jsp, /order/*.jsp; IncludeTop/Bottom.jsp | ActionBeans | JSP, JSTL, Stripes tags |
| AccountActionBean (/actions/Account.action) | Authentication, registration, profile edit, session account state | signonForm, signon, signoff, newAccountForm, newAccount, editAccountForm, editAccount | AccountService, CatalogService, JSP Views, session (accountBean) | Stripes ActionBean, Spring @SpringBean |
| CatalogActionBean (/actions/Catalog.action) | Catalog browse and search flows | viewMain, viewCategory, viewProduct, viewItem, searchProducts | CatalogService, JSP Views | Stripes ActionBean |
| CartActionBean (/actions/Cart.action) | Manage shopping cart in session; add/remove/update; checkout view | viewCart, addItemToCart, removeItemFromCart, updateCartQuantities, checkOut | CatalogService, Cart (Domain), JSP Views, session | Stripes ActionBean |
| OrderActionBean (/actions/Order.action) | New order flow, list/view orders, authorization check | listOrders, newOrderForm, newOrder (multi-step), viewOrder | OrderService, AccountActionBean (session), CartActionBean (session), JSP Views | Stripes ActionBean |
| AccountService | Account CRUD across ACCOUNT/PROFILE/SIGNON; auth lookup | getAccount(username), getAccount(username,password), insertAccount(Account), updateAccount(Account) | AccountMapper, Transaction Manager | Spring @Service, @Transactional, MyBatis-Spring |
| CatalogService | Expose categories/products/items; inventory check; keyword search | getCategoryList(), getCategory(id), getProduct(id), getProductListByCategory(id), searchProductList(kw), getItemListByProduct(id), getItem(id), isItemInStock(id) | CategoryMapper, ProductMapper, ItemMapper | Spring @Service, MyBatis-Spring |
| OrderService | Order placement, enrichment, history, ID generation; inventory decrement | insertOrder(Order), getOrder(orderId), getOrdersByUsername(username), getNextId(name) | ItemMapper, OrderMapper, LineItemMapper, SequenceMapper, Transaction Manager | Spring @Service, @Transactional, MyBatis-Spring, Sequence-table pattern |
| AccountMapper | Persistence for account/profile/signon | getAccountByUsername, getAccountByUsernameAndPassword, insertAccount, insertProfile, insertSignon, updateAccount, updateProfile, updateSignon | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, MyBatis second-level cache |
| CategoryMapper | Read categories | getCategoryList, getCategory | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| ProductMapper | Read/search products | getProductListByCategory, getProduct, searchProductList | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| ItemMapper | Read items and inventory; adjust inventory | getItemListByProduct, getItem, getInventoryQuantity, updateInventoryQuantity | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| OrderMapper | Read/insert order headers and status | getOrdersByUsername, getOrder, insertOrder, insertOrderStatus | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| LineItemMapper | Read/insert order line items | getLineItemsByOrderId, insertLineItem | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| SequenceMapper | Manage sequence counters for IDs | getSequence, updateSequence | Embedded HSQLDB Database, Domain Model | MyBatis 3.5.19, XML mappers, second-level cache |
| Domain Model (POJOs) | Core entities and helpers for business logic | Account, Category, Product, Item, Cart.add/remove/update/subtotal, CartItem, Order.initOrder, LineItem, Sequence | Used by Services, Mappers, ActionBeans | Plain Java POJOs, Bean Validation annotations |
| Spring ApplicationContext (Configuration) | Bootstraps DI, scans services/mappers, wires DB/tx, loads schema/data | component-scan(service), mybatis:scan(mappers), tx:annotation-driven, dataSource init scripts | MyBatis SqlSessionFactory & MapperScan, Transaction Manager, Embedded HSQLDB Database, Services, Mappers | Spring Framework (Context/JDBC 6.2.x), XML config |
| MyBatis SqlSessionFactory & MapperScan | Provide SqlSessions and mapper proxies; type aliases | SqlSessionFactoryBean, typeAliasesPackage=org.mybatis.jpetstore.domain, mapper scanning | Embedded HSQLDB Database, Spring ApplicationContext | MyBatis 3, MyBatis-Spring 3.0.5 |
| Transaction Manager | Defines transactional boundaries for services | @Transactional on service methods | Embedded HSQLDB Database, Spring ApplicationContext | Spring DataSourceTransactionManager |
| Embedded HSQLDB Database (DataSource) | Storage for all tables; init schema/seed data; ephemeral | JDBC DataSource; scripts: jpetstore-hsqldb-schema.sql, jpetstore-hsqldb-dataload.sql | Spring ApplicationContext, MyBatis SqlSessionFactory, Transaction Manager, Mappers | HSQLDB 2.7.x, Spring EmbeddedDatabase |