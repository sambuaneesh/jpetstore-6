| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| AccountActionBean (org.mybatis.jpetstore.web.actions) | User sign-in/out; registration; edit profile; maintain session account state and favorites | HTTP: /actions/Account.action — signonForm (GET), signon (POST), signoff, newAccountForm, newAccount (POST), editAccountForm, editAccount (POST) | AccountService; CatalogService; JSP Views; HTTP Session | Stripes ActionBean (session-scoped); Spring DI (@SpringBean); JSP/JSTL; MVC controller |
| CatalogActionBean (org.mybatis.jpetstore.web.actions) | Browse categories/products/items; search; show item availability | HTTP: /actions/Catalog.action — viewMain (default), viewCategory(categoryId), viewProduct(productId), viewItem(itemId), searchProducts(keyword) | CatalogService; JSP Views | Stripes ActionBean; Spring DI; JSP/JSTL; MVC controller |
| CartActionBean (org.mybatis.jpetstore.web.actions) | Manage cart state in session; add/remove/update items; checkout step | HTTP: /actions/Cart.action — viewCart, addItemToCart(workingItemId), removeItemFromCart(workingItemId), updateCartQuantities(form itemId fields), checkOut | CatalogService; JSP Views; HTTP Session | Stripes ActionBean (session-scoped); Spring DI; JSP/JSTL |
| OrderActionBean (org.mybatis.jpetstore.web.actions) | Checkout flow; confirm/submit order; list/view orders with auth check | HTTP: /actions/Order.action — listOrders, newOrderForm, newOrder (multi-step via shippingAddressRequired/confirmed), viewOrder(orderId) | OrderService; AccountActionBean (session); CartActionBean (session); JSP Views | Stripes ActionBean (session-scoped); Spring DI; JSP/JSTL |
| AccountService (org.mybatis.jpetstore.service) | Account CRUD and auth across ACCOUNT/PROFILE/SIGNON | getAccount(String username); getAccount(String username, String password); insertAccount(Account); updateAccount(Account) | AccountMapper; Spring Transaction Manager | Spring @Service; @Transactional; MyBatis-Spring; Repository/DAO pattern |
| CatalogService (org.mybatis.jpetstore.service) | Catalog query/search; stock checks | getCategoryList(); getCategory(String); getProduct(String); getProductListByCategory(String); getItemListByProduct(String); getItem(String); isItemInStock(String); searchProductList(String) | CategoryMapper; ProductMapper; ItemMapper | Spring @Service; MyBatis-Spring; Repository/DAO pattern |
| OrderService (org.mybatis.jpetstore.service) | Place orders transactionally; list/get orders; generate IDs; adjust inventory | insertOrder(Order); getOrder(int); getOrdersByUsername(String); getNextId(String) | OrderMapper; LineItemMapper; ItemMapper (inventory decrement); SequenceMapper; Spring Transaction Manager | Spring @Service; @Transactional; MyBatis-Spring; Sequence table pattern; Orchestration in monolith |
| AccountMapper (org.mybatis.jpetstore.mapper) | Persistence for account/profile/signon aggregate | getAccountByUsername; getAccountByUsernameAndPassword; insertAccount; insertProfile; insertSignon; updateAccount; updateProfile; updateSignon | SqlSessionFactory; HSQLDB DataSource | MyBatis 3 (XML mappers); MyBatis-Spring; <cache/> per-mapper; JDBC types |
| CategoryMapper (org.mybatis.jpetstore.mapper) | Persistence for categories | getCategoryList; getCategory | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/> |
| ProductMapper (org.mybatis.jpetstore.mapper) | Persistence for products; search | getProductListByCategory; getProduct; searchProductList | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/>; LIKE search |
| ItemMapper (org.mybatis.jpetstore.mapper) | Persistence for items; inventory read/write | getItemListByProduct; getItem; getInventoryQuantity; updateInventoryQuantity(Map{itemId, increment}) | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/>; join mappings (Item→Product) |
| OrderMapper (org.mybatis.jpetstore.mapper) | Persistence for orders and status | getOrdersByUsername; getOrder; insertOrder; insertOrderStatus | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/>; header/status tables |
| LineItemMapper (org.mybatis.jpetstore.mapper) | Persistence for order line items | getLineItemsByOrderId; insertLineItem | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/> |
| SequenceMapper (org.mybatis.jpetstore.mapper) | Persistence for sequence IDs | getSequence(Sequence); updateSequence(Sequence) | SqlSessionFactory; HSQLDB DataSource | MyBatis 3; MyBatis-Spring; <cache/>; Sequence table pattern |
| Domain Model (org.mybatis.jpetstore.domain) | Core business entities and logic | POJOs: Account, Category, Product, Item, Cart, CartItem, Order, LineItem, Sequence; Notable methods: Cart.addItem/remove/setQuantity/getSubTotal; Order.initOrder(Account, Cart) | — (used by Web/Service/Persistence) | Plain Java POJOs; Validation on Account setters; BigDecimal for money |
| Spring ApplicationContext & Tx Manager | Wire dependencies; DB init; transaction boundaries | Beans: dataSource (EmbeddedDatabase), DataSourceTransactionManager, SqlSessionFactoryBean; context:component-scan(service); @MapperScan(mapper); tx:annotation-driven | Embedded HSQLDB DataSource; Services; Mappers | Spring Framework 6 (Context, JDBC, Tx); MyBatis-Spring; Declarative transactions |
| MyBatis SqlSessionFactory & Mapper Scan | Create mapper proxies; configure MyBatis | SqlSessionFactoryBean; typeAliasesPackage=org.mybatis.jpetstore.domain; mybatis:scan base-package=org.mybatis.jpetstore.mapper | DataSource; Domain Model | MyBatis 3; MyBatis-Spring; L2 cache per mapper |
| Embedded HSQLDB DataSource | Relational storage; schema/data bootstrapping | Scripts: database/jpetstore-hsqldb-schema.sql; database/jpetstore-hsqldb-dataload.sql | Spring ApplicationContext; Mappers; Services | HSQLDB (in-memory); JDBC; Initialized at startup |
| Stripes Filter & Dispatcher | HTTP request routing to ActionBeans; Spring integration | StripesFilter (ActionResolver.Packages=org.mybatis.jpetstore.web; SpringInterceptor); StripesDispatcher mapped to *.action | ActionBeans; JSP Views; Spring Context | Stripes 1.6; Servlet API 4.0; Action-based MVC |
| JSP Views (/WEB-INF/jsp) | Render UI and forms; bind to ActionBeans | JSPs: account (Signon/New/Edit), catalog (Main/Category/Product/Item), cart (Cart/Checkout), order (New/Shipping/Confirm/View/List); common Includes | ActionBeans; JSTL/Stripes tags; HTTP Session | JSP; JSTL; Stripes taglibs; Server-side rendering |