| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Web UI (JSP Views) | Render pages and forms, forward to action events | JSPs under /WEB-INF/jsp: account (SignonForm.jsp, NewAccountForm.jsp, EditAccountForm.jsp), catalog (Main.jsp, Category.jsp, Product.jsp, Item.jsp, SearchProducts.jsp), cart (Cart.jsp, Checkout.jsp), order (NewOrderForm.jsp, ShippingForm.jsp, ConfirmOrder.jsp, ViewOrder.jsp), common includes | Stripes ActionBeans | JSP 2.3, JSTL, Stripes taglibs, MVC view layer |
| CatalogActionBean (Stripes Controller) | Browse/search catalog, view items/products/categories | /actions/Catalog.action events: viewMain (default), viewCategory(categoryId), viewProduct(productId), viewItem(itemId), searchProducts(keyword) | CatalogService, JSP Views, AbstractActionBean | Stripes 1.6 (ActionBean), Spring DI |
| AccountActionBean (Stripes Controller) | User auth and profile management | /actions/Account.action events: signonForm (default), signon, signoff, newAccountForm, newAccount, editAccountForm, editAccount | AccountService, CatalogService, JSP Views, AbstractActionBean, HttpSession | Stripes, Spring DI, SessionScope |
| CartActionBean (Stripes Controller) | Shopping cart operations | /actions/Cart.action events: viewCart, addItemToCart(workingItemId), removeItemFromCart(workingItemId), updateCartQuantities, checkOut | CatalogService, Domain Cart, JSP Views, AbstractActionBean | Stripes, Spring DI |
| OrderActionBean (Stripes Controller) | Checkout and order lifecycle | /actions/Order.action events: newOrderForm, newOrder(confirmed, shippingAddressRequired), listOrders, viewOrder(orderId) | OrderService, AccountActionBean, CartActionBean, JSP Views, AbstractActionBean, HttpSession | Stripes, Spring DI, SessionScope |
| CatalogService | Catalog read operations and stock checks | getCategoryList(), getCategory(id), getProduct(id), getProductListByCategory(id), searchProductList(keywords), getItemListByProduct(id), getItem(id), isItemInStock(itemId) | CategoryMapper, ProductMapper, ItemMapper | Spring @Service, MyBatis mappers |
| AccountService | Account CRUD and signon data orchestration | getAccount(username), getAccount(username,password), insertAccount(account), updateAccount(account) | AccountMapper | Spring @Service, @Transactional, MyBatis |
| OrderService | Order creation, retrieval, sequencing and inventory updates | insertOrder(order), getOrder(orderId), getOrdersByUsername(username), getNextId(name) | OrderMapper, LineItemMapper, ItemMapper, SequenceMapper | Spring @Service, @Transactional, MyBatis |
| AccountMapper | Persistence for accounts, profiles, signon | getAccountByUsername(u), getAccountByUsernameAndPassword(u,p), insertAccount(a), insertProfile(a), insertSignon(a), updateAccount(a), updateProfile(a), updateSignon(a) | MyBatis SQL XML AccountMapper.xml, Domain Account | MyBatis 3, SQL, Mapper interface + XML |
| CategoryMapper | Read categories | getCategoryList(), getCategory(categoryId) | CategoryMapper.xml, Domain Category | MyBatis 3, SQL |
| ProductMapper | Read products and search | getProductListByCategory(categoryId), getProduct(productId), searchProductList(keywordsLike) | ProductMapper.xml, Domain Product | MyBatis 3, SQL |
| ItemMapper | Item and inventory access | getItemListByProduct(productId), getItem(itemId), getInventoryQuantity(itemId), updateInventoryQuantity({itemId,increment}) | ItemMapper.xml, Domain Item | MyBatis 3, SQL |
| OrderMapper | Order persistence | getOrdersByUsername(username), getOrder(orderId), insertOrder(order), insertOrderStatus(order) | OrderMapper.xml, Domain Order | MyBatis 3, SQL |
| LineItemMapper | Line item persistence | getLineItemsByOrderId(orderId), insertLineItem(lineItem) | LineItemMapper.xml, Domain LineItem | MyBatis 3, SQL |
| SequenceMapper | ID sequencing | getSequence(Sequence{name}), updateSequence(Sequence) | SequenceMapper.xml, Domain Sequence | MyBatis 3, SQL (TABLE-based sequence) |
| Domain Model | Business entities and cart model | POJOs: Account, Category, Product, Item, Order, LineItem, Cart, CartItem, Sequence (getters/setters, simple logic like totals) | None (used by all layers) | Plain Java, Serializable, basic OO patterns |
| Spring/MyBatis Configuration | Wire beans, mappers, transactions | applicationContext.xml: dataSource, transactionManager, component-scan(service), tx:annotation-driven, sqlSessionFactory, mybatis:scan(mapper pkg) | DataSource, Services, Mappers | Spring 5 (context, jdbc, tx), MyBatis-Spring 2 |
| Data Source & Transaction Mgmt | DB connectivity and tx boundaries | BasicDataSource(driver=com.mysql.cj.jdbc.Driver, url=${MYSQL_URL}, user/pass from .env), DataSourceTransactionManager | MySQL (runtime), HSQLDB (tests) | Apache DBCP2, MySQL 8, Spring JDBC/Tx |
| Web Container & Routing | Servlet/filter config and URL mapping | web.xml: StripesFilter, DispatcherServlet (*.action), ContextLoaderListener; Stripes ActionResolver.Packages=org.mybatis.jpetstore.web | Stripes controllers, Spring context | Servlet 4.0 (API provided), Stripes MVC |
| Packaging & Deployment | Build, run locally and in containers/app servers | Maven lifecycle (war), cargo-maven3-plugin profiles (tomcat, jetty, wildfly, tomee, liberty, glassfish, resin); Dockerfile; docker-compose.yaml (jpetstore + mysql) | All modules | Maven, Cargo, Tomcat 9, Docker, Docker Compose |
| Database Schema & Seed Data | Initialize schema and demo data | SQL scripts: src/main/resources/database/jpetstore-hsqldb-*.sql (schema, data, dataload); mounted as init.sql in MySQL via docker-compose | Persistence layer | SQL DDL/DML, HSQL scripts adapted for MySQL init |
| Test Automation | Unit, mapper, and UI integration tests | JUnit5 tests for domain/services/mappers; Selenide ScreenTransitionIT (headless Chrome) driving http://localhost:8080/jpetstore | Entire stack (app server via Cargo for IT) | JUnit 5, Mockito, AssertJ, Spring Test, Selenide, HtmlUnit driver |